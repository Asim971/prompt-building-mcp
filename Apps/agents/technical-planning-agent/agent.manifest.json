{
    "id": "technical_planning_agent",
    "version": "1.0.0",
    "capabilities": [
        "architecture_design",
        "implementation_planning",
        "integration_mapping",
        "risk_assessment"
    ],
    "input_schema": {
        "type": "object",
        "required": [
            "prd_data",
            "technical_requirements",
            "constraints",
            "integration_points"
        ],
        "properties": {
            "prd_data": {
                "type": "object",
                "properties": {
                    "functional_requirements": {
                        "type": "array"
                    },
                    "non_functional_requirements": {
                        "type": "array"
                    },
                    "success_metrics": {
                        "type": "array"
                    }
                }
            },
            "technical_requirements": {
                "type": "object",
                "properties": {
                    "platform_constraints": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "performance_requirements": {
                        "type": "object"
                    },
                    "security_requirements": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "compliance_standards": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    }
                }
            },
            "constraints": {
                "type": "object",
                "properties": {
                    "budget_constraints": {
                        "type": "string"
                    },
                    "timeline_constraints": {
                        "type": "string"
                    },
                    "resource_constraints": {
                        "type": "string"
                    },
                    "technology_constraints": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    }
                }
            },
            "integration_points": {
                "type": "object",
                "properties": {
                    "dynamics365_modules": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "external_systems": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "data_sources": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "apis_required": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    }
                }
            }
        }
    },
    "output_schema": {
        "type": "object",
        "required": [
            "architecture_overview",
            "technology_stack",
            "implementation_plan",
            "integration_architecture",
            "risk_assessment",
            "resource_requirements"
        ],
        "properties": {
            "architecture_overview": {
                "type": "object",
                "properties": {
                    "system_architecture": {
                        "type": "string"
                    },
                    "architectural_patterns": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "key_components": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "data_flow": {
                        "type": "string"
                    }
                }
            },
            "technology_stack": {
                "type": "object",
                "properties": {
                    "frontend_technologies": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "backend_technologies": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "database_technologies": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "integration_technologies": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "deployment_technologies": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    }
                }
            },
            "implementation_plan": {
                "type": "array",
                "items": {
                    "type": "object",
                    "properties": {
                        "phase": {
                            "type": "string"
                        },
                        "duration": {
                            "type": "string"
                        },
                        "deliverables": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "dependencies": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "resources_required": {
                            "type": "string"
                        }
                    }
                }
            },
            "integration_architecture": {
                "type": "object",
                "properties": {
                    "dynamics365_integration": {
                        "type": "string"
                    },
                    "api_specifications": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "data_synchronization": {
                        "type": "string"
                    },
                    "security_model": {
                        "type": "string"
                    }
                }
            },
            "risk_assessment": {
                "type": "array",
                "items": {
                    "type": "object",
                    "properties": {
                        "risk_category": {
                            "type": "string"
                        },
                        "risk_description": {
                            "type": "string"
                        },
                        "probability": {
                            "type": "string",
                            "enum": [
                                "low",
                                "medium",
                                "high"
                            ]
                        },
                        "impact": {
                            "type": "string",
                            "enum": [
                                "low",
                                "medium",
                                "high"
                            ]
                        },
                        "mitigation_strategy": {
                            "type": "string"
                        }
                    }
                }
            },
            "resource_requirements": {
                "type": "object",
                "properties": {
                    "development_team": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "infrastructure_requirements": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "third_party_tools": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "estimated_costs": {
                        "type": "string"
                    }
                }
            }
        }
    },
    "safety_restrictions": [
        "no_network",
        "no_fs_write",
        "no_deletes"
    ],
    "max_response_chars": 12000
}